<html lang="zxx">

<head>
    <meta charset="UTF-8" />
    <meta name="description" content="Male_Fashion Template" />
    <meta name="keywords" content="Male_Fashion, unica, creative, html" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Male-Fashion | Template</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700;800;900&display=swap"
        rel="stylesheet" />

    <!-- Css Styles -->
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="css/elegant-icons.css" type="text/css" />
    <link rel="stylesheet" href="css/magnific-popup.css" type="text/css" />
    <link rel="stylesheet" href="css/nice-select.css" type="text/css" />
    <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css" />
    <link rel="stylesheet" href="css/slicknav.min.css" type="text/css" />
    <link rel="stylesheet" href="css/style.css" type="text/css" />
    <link rel="stylesheet" href="css/adress-book.css" type="text/css" />
    <style>body{
    margin-top:20px;
    background-color: #f1f3f7;
}

.avatar-lg {
    height: 5rem;
    width: 5rem;
}

.font-size-18 {
    font-size: 18px!important;
}

.text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

a {
    text-decoration: none!important;
}

.w-xl {
    min-width: 160px;
}

.card {
    margin-bottom: 24px;
    -webkit-box-shadow: 0 2px 3px #e4e8f0;
    box-shadow: 0 2px 3px #e4e8f0;
}

.card {
    position: relative;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-orient: vertical;
    -webkit-box-direction: normal;
    -ms-flex-direction: column;
    flex-direction: column;
    min-width: 0;
    word-wrap: break-word;
    background-color: #fff;
    background-clip: border-box;
    border: 1px solid #eff0f2;
    border-radius: 1rem;
}</style>
</head>

<body>
    <!-- Page Preloder -->
    <!-- <div id="preloder">
        <div class="loader"></div>
    </div> -->
    <!-- Offcanvas Menu Begin -->
    <div class="offcanvas-menu-overlay"></div>
    <div class="offcanvas-menu-wrapper">
        <div class="offcanvas__option">
            <div class="offcanvas__links">
                <a href="#">Sign in</a>
                <a href="#">FAQs</a>
            </div>
            <div class="offcanvas__top__hover">
                <span>Usd <i class="arrow_carrot-down"></i></span>
                <ul>
                    <li>USD</li>
                    <li>EUR</li>
                    <li>USD</li>
                </ul>
            </div>
        </div>
        <div class="offcanvas__nav__option">
            <a href="#" class="search-switch"><img src="img/icon/search.png" alt="" /></a>
            <a href="#"><img src="img/icon/heart.png" alt="" /></a>
            <a href="#"><img src="img/icon/cart.png" alt="" /> <span>0</span></a>
            <div class="price">$0.00</div>
        </div>
        <div id="mobile-menu-wrap"></div>
        <div class="offcanvas__text">
            <p>Free shipping, 30-day return or refund guarantee.</p>
        </div>
    </div>
    <!-- Offcanvas Menu End -->

    <!-- Header Section Begin -->
    <header class="header">
        <div class="header__top">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 col-md-7">
                        <div class="header__top__left">
                            <p>
                                Free shipping, 30-day return or refund
                                guarantee.
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-5">
                        <div class="header__top__right">
                            <div class="header__top__links">
                                <a href="#">Sign in</a>
                                <a href="#">FAQs</a>
                            </div>
                            <div class="header__top__hover">
                                <span>Usd <i class="arrow_carrot-down"></i></span>
                                <ul>
                                    <li>USD</li>
                                    <li>EUR</li>
                                    <li>USD</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-3">
                    <div class="header__logo">
                        <a href="./"><img src="img/logo.png" alt="" /></a>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6">
                    <nav class="header__menu mobile-menu">
                        <ul>
                            <li><a href="./">Home</a></li>
                            <li class="active">
                                <a href="products">Shop</a>
                            </li>
                            <% category.forEach((row, index)=> { %>
                                <li>
                                    <a href="./products/<%= row._id %>">
                                        <%= row.category_name %>
                                    </a>
                                </li>
                                <% }) %>
                        </ul>
                    </nav>
                </div>
                <div class="col-lg-3 col-md-3">
                    <div class="header__nav__option">
                        <a href="#" class="search-switch"><img src="img/icon/search.png" alt="" /></a>
                        <a href="#"><img src="img/icon/heart.png" alt="" /></a>
                        <a href="#"><img src="img/icon/cart.png" alt="" />
                            <span>0</span></a>
                        <div class="price">$0.00</div>
                    </div>
                </div>
            </div>
            <div class="canvas__open"><i class="fa fa-bars"></i></div>
        </div>
    </header>
    <!-- Header Section End -->

    <!-- Breadcrumb Section Begin -->
    <section class="breadcrumb-option">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumb__text">
                        <h4>Shop</h4>
                        <div class="breadcrumb__links">
                            <a href="./index.html">Home</a>
                            <span>User</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Breadcrumb Section End -->
<div class="container">
    <div class="row">
        <div class="col-xl-8">
            <% wishListItems.forEach((element, index)=> { %>
                <div class="card border shadow-none mb-3">
                    <div class="card-body">
                        <div class="d-flex align-items-start border-bottom pb-3">
                            <div class="me-4">
                                <img src="<%= element.product.Image_filename[0] %>" alt="" class="avatar-lg rounded">
                            </div>
                            <div class="flex-grow-1 align-self-center overflow-hidden">
                                <div>
                                    <h5 class="text-truncate font-size-18">
                                        <a href="#" class="text-dark">
                                            <%= element.product.Product_variation_id.Product_item_id.Product_id.product_name
                                                %>
                                        </a>
                                    </h5>
                                    <p class="text-muted mb-0">
                                        <i class="bx bxs-star text-warning"></i>
                                        <i class="bx bxs-star text-warning"></i>
                                        <i class="bx bxs-star text-warning"></i>
                                        <i class="bx bxs-star text-warning"></i>
                                        <i class="bx bxs-star-half text-warning"></i>
                                    </p>
                                    <!-- <p class="mb-0 mt-1">Color : <span class="fw-medium">
                                         
                                        </span></p> -->
                                </div>
                            </div>
                            <div class="flex-shrink-0 ms-2">
                                <ul class="list-inline mb-0 font-size-16">
                                    <li class="list-inline-item">
                                        <a href="#" class="text-muted px-1">
                                            <i class="mdi mdi-trash-can-outline"></i>
                                        </a>
                                    </li>
                                    <li class="list-inline-item">
                                        <a href="#" class="text-muted px-1">
                                            <i class="mdi mdi-heart-outline"></i>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="mt-3">
                                        <p class="text-muted mb-2">Price</p>
                                        <h5 class="mb-0 mt-2">
                                            <span class="text-muted me-2">
                                                <del class="font-size-16 fw-normal">
                                                    <%= element.product.Product_variation_id.Product_item_id.Original_price
                                                        %>
                                                </del>
                                            </span>
                                           
                                        </h5>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <div class="mt-3">
                                        <p class="text-muted mb-2">Colours</p>
                                        <div class="d-inline-flex">
                                            <select class="form-select form-select-sm w-xl color-select" data-index="<%= index %>">
                                                <% Object.keys(element.colorsWithSizes).forEach(color=> { %>
                                                    <option value="<%= color %>">
                                                        <%= color %>
                                                    </option>
                                                    <% }) %>
                                            </select>
                                        </div>
                                    </div>
                                   
                                    <div class="mt-3">
                                        <p class="text-muted mb-2">Sizes</p>
                                        <div class="d-inline-flex">
                                            <select class="form-select form-select-sm w-xl size-select" data-index="<%= index %>">
                                                <% element.colorsWithSizes[Object.keys(element.colorsWithSizes)[0]].forEach(size=> { %>
                                                    <option value="<%= size.size %>">
                                                        <%= size.size %>
                                                    </option>
                                                    <% }) %>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                    
                                <div class="col-md-3">
                                    <div class="mt-3">
                                        <button type="button" class="btn btn-danger btn-block" onclick="deleteWish('<%= element.product._id %>')">Delete from
                                            Wishlist</button>
                                        <div class="mt-3">
                                            <button type="button" class="btn btn-primary btn-block" onclick="wishTocart('<%= element.product.Product_variation_id._id %>','<%= element.product._id %>','<%= element._id %>')">Add to Cart</button>
                                            <p id="stockError"></p>
                                        </div>
                                      
                                    
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <% }) %>
                    <!-- end card -->

                    <div class="row my-4">
                        <div class="col-sm-6">
                            <a href="/products" class="btn btn-link text-muted">
                                <i class="mdi mdi-arrow-left me-1"></i> Continue Shopping
                            </a>
                        </div> <!-- end col -->
                        <div class="col-sm-6">
                            <div class="text-sm-end mt-2 mt-sm-0">
                                <a href="ecommerce-checkout.html" class="btn btn-danger">
                                    <i class="mdi mdi-cart-outline me-1"></i> Clear Wish List
                                </a>
                            </div>
                        </div> <!-- end col -->
                    </div> <!-- end row -->
        </div>
    </div>
    <!-- end row -->
</div>
    <!-- Js Plugins -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.nice-select.min.js"></script>
    <script src="js/jquery.nicescroll.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/jquery.countdown.min.js"></script>
    <script src="js/jquery.slicknav.js"></script>
    <script src="js/mixitup.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/main.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const wishListItems = <% - JSON.stringify(wishListItems) %>;

        function populateSizes(index, color) {
            const sizesArray = wishListItems[index].colorsWithSizes[color];
            const sizeSelect = document.querySelector(`.size-select[data-index="${index}"]`);

            // Clear current options
            sizeSelect.innerHTML = '';

            // Add new options
            sizesArray.forEach(size => {
                const option = document.createElement('option');
                option.value = size.size;
                option.textContent = size.size;
                sizeSelect.appendChild(option);
            });
        }

        document.querySelectorAll('.color-select').forEach(colorSelect => {
            const index = colorSelect.getAttribute('data-index');
            const initialColor = Object.keys(wishListItems[index].colorsWithSizes)[0];

            // Populate sizes for the first color by default
            populateSizes(index, initialColor);

            colorSelect.addEventListener('change', function () {
                const selectedColor = this.value;
                populateSizes(index, selectedColor);
            });
        });
    });
</script>

   

 
    
</body>

</html>